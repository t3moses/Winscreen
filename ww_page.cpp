
#include "ww_constants.h"
#include "ww_types.h"
#include "ww_json.h"
#include "ww_page.h"

ww_page* ww_page::ap_page_list[ PAGE_BOUND + 1 ]; // List of ww_page classes.  PAGE_BOUND + 1 is the number of html files.

char ww_page::ac_splash[] = "<svg width=\"300\" height=\"300\" viewBox=\"-1.9 -10 34 34\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\"> <g transform=\"translate(148.88889,-46.900002)\"> <path style=\"fill:#0040FF;stroke-width:0.005\" d=\"m -145.33085,57.807279 c -0.51122,-0.09981 -1.0626,-0.327658 -1.46851,-0.7099 -1.02414,-0.889419 -1.68156,-2.183315 -1.9889,-3.4938 -0.18778,-0.851944 -0.10217,-1.825975 0.16889,-2.62287 0.29815,-0.892439 0.78596,-1.74184 1.4952,-2.392285 1.05293,-0.683867 2.22828,-1.186499 3.4158,-1.59041 0.45276,-0.119474 0.85951,-0.161255 1.30657,0.05873 0.78452,0.353966 1.56325,0.77182 2.1854,1.3647 0.0184,0.294278 -0.39894,0.412182 -0.58285,0.58713 -0.24582,0.109425 -0.52111,0.507394 -0.7686,0.22444 -0.813,-0.574198 -1.57782,-1.267403 -2.56478,-1.52702 -1.03275,-0.153532 -1.83202,0.744976 -2.23218,1.59748 -0.61533,1.331121 -0.77746,2.810575 -0.43723,4.241411 0.29692,1.26656 1.10716,2.448441 2.23491,3.15988 0.48358,0.26134 1.00657,0.753416 1.58799,0.54728 0.6642,-0.390893 0.90962,-1.182517 1.2234,-1.827116 0.10767,-0.295124 0.22972,-0.577057 0.335,-0.85977 0.48034,0.07644 1.0048,0.201711 1.416,0.44331 0.0902,0.77707 -0.45484,1.469056 -1.10802,1.848978 -1.09786,0.660634 -2.44611,0.825233 -3.68347,0.93726 -0.13466,0.03341 -0.36887,0.0063 -0.53462,0.01257 z m 13.75914,-1.751573 c -0.83356,-0.04291 -1.46877,-0.674659 -1.98335,-1.28451 -0.28484,-0.278549 -0.61111,-0.821538 -1.06182,-0.56313 -0.11306,0.442832 0.0131,1.00576 -0.0626,1.461156 -0.35855,0.08672 -0.77677,0.235147 -1.16425,0.18456 -0.0223,-1.861513 0.0497,-3.743338 -0.0472,-5.588901 -0.0257,-0.256979 -0.22953,-0.453835 -0.3656,-0.64006 0.43506,-0.147377 0.92584,-0.262816 1.364,-0.30489 0.1384,0.159298 0.093,0.704605 0.4342,0.49474 0.68381,-0.329711 1.32317,-0.998526 2.14957,-0.64914 0.88054,0.362594 1.46715,1.215568 1.62478,2.106738 0.17143,1.03227 -0.52806,1.899875 -1.41588,2.320795 -0.23674,0.113501 -0.62243,0.292951 -0.3668,0.598228 0.47289,0.639206 1.07904,1.26025 1.8258,1.58625 0.74033,0.07681 -0.23932,0.315063 -0.43296,0.27659 0.16,0.0102 -0.67533,0.01036 -0.49789,0.0016 z m -2.20966,-2.076073 c 0.88796,-0.07805 1.88964,-0.707615 1.94305,-1.687657 0.1326,-0.664929 -0.19405,-1.403146 -0.6101,-1.939285 -0.35473,-0.464846 -1.0464,-0.982055 -1.62258,-0.56121 -0.56755,0.606868 -0.54522,1.512902 -0.584,2.304278 0.14393,0.569911 -0.27086,1.436844 0.17308,1.860501 0.21286,0.07455 0.48767,0.02531 0.70055,0.02337 z m 3.86598,0.513798 c -0.12514,-0.349591 -0.0162,-0.841436 -0.0528,-1.245421 -5.3e-4,-1.158451 -0.005,-2.282084 -0.1008,-3.422425 -0.44955,-0.291285 0.007,-0.320953 0.37753,-0.38872 0.88725,-0.46268 0.68973,0.509592 0.67573,1.090309 -0.0168,1.276416 0.0468,2.605532 -0.0604,3.832593 -0.29027,-0.01482 -0.54442,0.132602 -0.83923,0.133664 z m 2.41197,-0.03409 c -0.65123,-0.112585 -1.08174,-0.952221 -0.6206,-1.490163 0.53912,-0.713339 1.4769,-0.927859 2.1283,-1.46362 0.0457,-0.343707 -0.20362,-0.711371 -0.28778,-1.07985 -0.13402,-0.375045 -0.49244,-0.916041 -0.9531,-0.67218 -0.095,0.193852 -0.46391,0.141569 -0.1679,-0.01376 0.34258,-0.229163 0.69169,-0.655646 1.11455,-0.574151 0.55733,0.157876 0.88859,0.678886 1.0119,1.19318 0.34263,0.982176 0.58618,2.034869 1.08853,2.95557 0.12535,0.23476 0.35222,0.471085 0.4091,0.70365 -0.23091,0.145598 -0.48713,0.424312 -0.7653,0.41404 -0.29345,-0.236103 -0.41909,-0.612904 -0.7117,-0.84857 -0.70477,0.362158 -1.41733,0.881174 -2.246,0.875854 z m 1.17287,-0.412723 c 0.66202,-0.166978 1.13608,-0.965828 0.7098,-1.574029 -0.11079,-0.214756 -0.11492,-0.60182 -0.47148,-0.52325 -0.64352,0.01005 -1.50369,0.525041 -1.34315,1.253602 0.13145,0.437401 0.57396,0.979547 1.10483,0.843677 z m -13.76863,0.380709 c -0.65077,-0.116294 -1.08444,-0.919582 -0.6419,-1.47511 0.53653,-0.724051 1.46708,-0.935589 2.12886,-1.47152 0.0948,-0.30715 -0.19095,-0.650573 -0.2352,-0.98845 -0.13331,-0.402024 -0.48873,-1.031151 -0.998,-0.76671 -0.0579,0.153061 -0.44878,0.169784 -0.2204,0.01566 0.39316,-0.242873 0.76832,-0.760249 1.2725,-0.5762 0.57582,0.213366 0.82055,0.793427 0.96306,1.32091 0.35778,1.049905 0.62352,2.231166 1.28456,3.19325 0.12292,0.149785 0.26799,0.334552 -0.002,0.42753 -0.22847,0.127149 -0.54506,0.490936 -0.7442,0.1552 -0.19601,-0.222673 -0.33293,-0.523802 -0.5719,-0.71485 -0.70108,0.366547 -1.42028,0.880673 -2.23528,0.88029 z m 1.16471,-0.413095 c 0.64959,-0.162966 1.12585,-0.946153 0.7266,-1.552823 -0.10938,-0.323791 -0.22735,-0.727057 -0.69783,-0.5351 -0.63675,0.113966 -1.42532,0.704105 -1.0674,1.416302 0.18628,0.384284 0.56631,0.791731 1.03863,0.671621 z m 16.87338,0.414136 c -0.90889,-0.146427 -1.51866,-0.997319 -1.6899,-1.84496 -0.1727,-0.931767 0.20989,-1.930662 0.8842,-2.602607 0.58373,-0.410748 1.25216,-0.835404 1.97452,-0.645588 0.26753,0.06136 0.51739,0.315804 0.7568,0.34429 0.2027,-0.30454 0.0394,-0.75251 0.0526,-1.095236 -0.0313,-0.225264 -0.17928,-0.449684 -0.3265,-0.57573 0.32748,-0.08646 0.69825,-0.276597 1.0192,-0.26739 0.34416,0.499053 0.19605,1.164438 0.25846,1.742024 0.0331,1.500284 -0.0562,3.031202 0.0473,4.511652 0.34396,0.323034 0.0141,0.315367 -0.31873,0.36776 -0.49223,0.26927 -0.64317,-0.134409 -0.67826,-0.523414 -0.39723,0.04913 -0.78469,0.368212 -1.2072,0.46975 -0.24987,0.08467 -0.50209,0.128189 -0.77254,0.119449 z m 1.05788,-0.349964 c 0.43405,-0.135098 0.83487,-0.555188 0.92313,-1.004632 0.0308,-0.787494 0.0407,-1.580614 -0.0397,-2.374352 -0.61274,-0.449127 -1.21944,-1.136794 -2.05209,-1.01318 -0.57952,0.20022 -0.73015,0.906956 -0.79661,1.393238 -0.13686,1.182669 0.46204,2.391622 1.4791,2.969865 0.14861,0.0582 0.34584,0.05654 0.48616,0.02906 z\" id=\"path55\" /> </g> </svg>";
char ww_page::ac_html_00[] = "<!DOCTYPE html> <html> <head><meta name='viewport' content='width=device-width,initial-scale=1.0'> <title>WINSCREEN</title> <style> html{font-family:Helvetica;display:inline-block;margin:0px auto;text-align:center;} body{margin-top:20px;} </style> </head> <body> <div> <img src='/splash' alt='CARIAD'> </div> <script> var socket; var rx; setTimeout(function(){ socket.send('req:next')}, 3000); function init(){ socket=new WebSocket('ws:/'+'/'+window.location.hostname+':81/'); socket.onmessage=function(socket_event){ processCommand(socket_event); }; } function processCommand(socket_event){ rx=JSON.parse(socket_event.data); if (rx.key==='req'){ if (rx.value==='this'){ socket.send('this:'+window.location.href); } } if (rx.key==='next'){ socket.close; window.location.href=rx.value; } } init(); </script> </body> </html>";
char ww_page::ac_html_01[] = "<!DOCTYPE html> <html> <head><meta name='viewport' content='width=device-width,initial-scale=1.0'> <title>WINSCREEN</title> <style> html{font-family:Helvetica;display:inline-block;margin:0px auto;text-align:center;} body{margin-top:20px;} canvas{ border:2px solid white;} .button_class{ width: 300px; background-color: #DDDDDD; border: 2px solid #000000; border-radius: 10px; font-size: 24px; cursor: pointer; } .hidden_class{ display: none; } </style> </head> <body> <div> <canvas id='pane_1' height='0'></canvas> </div> <div> <canvas id='pane_2' height='0'></canvas> </div> <div> <canvas id='pane_3' height='0'></canvas> </div> <div> <canvas id='pane_4' height='0'></canvas> </div> <div> <button type='button' class = 'button_class hidden_class' id='next_id'> NEXT </button> </div> <script> var socket; var rx; var bkgnd; var pw; var vph; var bph; var h_clr; var rdr_clr; var rdr_wt; var b_clr; var b_s_clr; var b_wt; var b_s_wt; var tw_clr; var tw_s_clr; var tw_wt; var tw_s_wt; var aw_clr; var aw_wt; var vmg_wt; var vmg_s_wt; var n_clr; var m_clr; var m_wt; var crh_b_clr; var trn_b_clr; var hb_x; var hb_y; var hb_s; var hb_clr; const canvas_1=document.getElementById('pane_1'); const ctx_1=canvas_1.getContext('2d'); const canvas_2=document.getElementById('pane_2'); const ctx_2=canvas_2.getContext('2d'); const canvas_3=document.getElementById('pane_3'); const ctx_3=canvas_3.getContext('2d'); const canvas_4=document.getElementById('pane_4'); const ctx_4=canvas_4.getContext('2d'); function init(){ socket=new WebSocket('ws:/'+'/'+window.location.hostname+':81/'); socket.onmessage=function(socket_event){ processCommand(socket_event); }; } document.getElementById('next_id').addEventListener('click', function(){ socket.send('req:next') }); function processCommand(socket_event){ rx=JSON.parse(socket_event.data); if (rx.key==='req'){ if (rx.value==='this'){ socket.send('this:'+window.location.href); } } if (rx.key==='next'){ socket.close; window.location.href=rx.value; } if (rx.key==='constants'){ bkgnd=rx.display.bkgnd; pw=parseInt(rx.display.pw); vph=parseInt(rx.display.vph); bph=parseInt(rx.display.bph); h_clr=rx.display.hcr; rdr_clr=rx.rdr.clr; rdr_wt=parseInt(rx.rdr.wt); b_clr=rx.bt.clr; b_s_clr=rx.bt.s_clr; b_wt=parseInt(rx.bt.wt); b_s_wt=parseInt(rx.bt.s_wt); tw_clr=rx.tw.clr; tw_s_clr=rx.tw.s_clr; tw_wt=parseInt(rx.tw.wt); tw_s_wt=parseInt(rx.tw.s_wt); aw_clr=rx.aw.clr; aw_wt=parseInt(rx.aw.wt); vmg_wt=parseInt(rx.vmg.wt); vmg_s_wt=parseInt(rx.vmg.s_wt); n_clr=rx.n.clr; m_clr=rx.m.clr; m_wt=rx.m.wt; crh_b_clr=rx.crh_b.clr; trn_b_clr=rx.trn_b.clr; hb_x=rx.hbt.x; hb_y=rx.hbt.y; hb_s=rx.hbt.s; canvas_1.width=pw; canvas_1.height=vph; canvas_2.width=pw; canvas_2.height=bph; canvas_3.width=pw; canvas_3.height=bph; canvas_4.width=pw; canvas_4.height=bph; document.getElementById('next_id').classList.remove('hidden_class'); } if (rx.key==='variables'){ ctx_1.fillStyle=bkgnd; ctx_2.fillStyle=bkgnd; ctx_3.fillStyle=bkgnd; ctx_4.fillStyle=bkgnd; ctx_1.fillRect(0,0,pw,vph); ctx_2.fillRect(0,0,pw,bph); ctx_3.fillRect(0,0,pw,bph); ctx_4.fillRect(0,0,pw,bph); ctx_1.fillStyle=h_clr; ctx_1.lineCap='round'; ctx_1.lineJoin='round'; const c_x=pw/2; const c_y=vph/2; const b_y=bph/2; const b_r=bph/2; ctx_1.beginPath(); ctx_1.moveTo(c_x+parseInt(rx.hl[0]),c_y+parseInt(rx.hl[1])); ctx_1.lineTo(c_x+parseInt(rx.hl[2]),c_y+parseInt(rx.hl[3])); ctx_1.lineTo(c_x+parseInt(rx.hl[4]),c_y+parseInt(rx.hl[5])); ctx_1.lineTo(c_x+parseInt(rx.hl[6]),c_y+parseInt(rx.hl[7])); ctx_1.lineTo(c_x+parseInt(rx.hl[8]),c_y+parseInt(rx.hl[9])); ctx_1.lineTo(c_x+parseInt(rx.hl[10]),c_y+parseInt(rx.hl[11])); ctx_1.lineTo(c_x+parseInt(rx.hl[12]),c_y+parseInt(rx.hl[13])); ctx_1.lineTo(c_x+parseInt(rx.hl[14]),c_y+parseInt(rx.hl[15])); ctx_1.lineTo(c_x+parseInt(rx.hl[16]),c_y+parseInt(rx.hl[17])); ctx_1.lineTo(c_x+parseInt(rx.hl[18]),c_y+parseInt(rx.hl[19])); ctx_1.lineTo(c_x+parseInt(rx.hl[20]),c_y+parseInt(rx.hl[21])); ctx_1.lineTo(c_x+parseInt(rx.hl[22]),c_y+parseInt(rx.hl[23])); ctx_1.lineTo(c_x+parseInt(rx.hl[24]),c_y+parseInt(rx.hl[25])); ctx_1.closePath(); ctx_1.fill(); ctx_1.beginPath(); ctx_1.lineWidth=rdr_wt; ctx_1.strokeStyle=rdr_clr; ctx_1.moveTo(c_x+parseInt(rx.rdr.post.x),c_y+parseInt(rx.rdr.post.y)); ctx_1.lineTo(c_x+parseInt(rx.rdr.tip.x),c_y+parseInt(rx.rdr.tip.y)); ctx_1.stroke(); ctx_1.beginPath(); ctx_1.lineWidth=b_s_wt; ctx_1.strokeStyle=b_s_clr; ctx_1.moveTo(c_x+parseInt(rx.bt_s.begin.x), c_y+parseInt(rx.bt_s.begin.y)); ctx_1.lineTo(c_x+parseInt(rx.bt_s.end.x), c_y+parseInt(rx.bt_s.end.y)); ctx_1.stroke(); ctx_1.beginPath(); ctx_1.lineWidth=tw_s_wt; ctx_1.strokeStyle=tw_s_clr; ctx_1.moveTo(c_x+parseInt(rx.tw_s.begin.x), c_y+parseInt(rx.tw_s.begin.y)); ctx_1.lineTo(c_x+parseInt(rx.tw_s.end.x), c_y+parseInt(rx.tw_s.end.y)); ctx_1.stroke(); ctx_1.beginPath(); ctx_1.lineWidth=aw_wt; ctx_1.strokeStyle=aw_clr; ctx_1.moveTo(c_x,c_y); ctx_1.lineTo(c_x+parseInt(rx.aw.x),c_y+parseInt(rx.aw.y)); ctx_1.stroke(); ctx_1.beginPath(); ctx_1.lineWidth=tw_wt; ctx_1.strokeStyle=tw_clr; ctx_1.moveTo(c_x,c_y); ctx_1.lineTo(c_x+parseInt(rx.tw.x),c_y+parseInt(rx.tw.y)); ctx_1.stroke(); ctx_1.beginPath(); ctx_1.lineWidth=b_wt; ctx_1.strokeStyle=b_clr; ctx_1.moveTo(c_x,c_y); ctx_1.lineTo(c_x+parseInt(rx.bt.x),c_y+parseInt(rx.bt.y)); ctx_1.stroke(); ctx_1.beginPath(); ctx_1.lineWidth=vmg_wt; ctx_1.strokeStyle=rx.vmg.clr; ctx_1.moveTo(c_x,c_y); ctx_1.lineTo(c_x+parseInt(rx.vmg.x),c_y+parseInt(rx.vmg.y)); ctx_1.stroke(); ctx_1.beginPath(); ctx_1.lineWidth=vmg_s_wt; ctx_1.strokeStyle=rx.vmg_s.clr; ctx_1.moveTo(c_x+parseInt(rx.vmg_s.begin.x), c_y+parseInt(rx.vmg_s.begin.y)); ctx_1.lineTo(c_x+parseInt(rx.vmg_s.end.x), c_y+parseInt(rx.vmg_s.end.y)); ctx_1.stroke(); ctx_1.beginPath(); ctx_1.fillStyle=n_clr; ctx_1.moveTo(c_x+parseInt(rx.tru_nth.point[0].x),c_y+parseInt(rx.tru_nth.point[0].y)); ctx_1.lineTo(c_x+parseInt(rx.tru_nth.point[1].x),c_y+parseInt(rx.tru_nth.point[1].y)); ctx_1.lineTo(c_x+parseInt(rx.tru_nth.point[2].x),c_y+parseInt(rx.tru_nth.point[2].y)); ctx_1.closePath; ctx_1.fill(); ctx_1.beginPath(); ctx_1.lineWidth=m_wt; ctx_1.strokeStyle=m_clr; ctx_1.moveTo(c_x+parseInt(rx.mag_nth.point[0].x),c_y+parseInt(rx.mag_nth.point[0].y)); ctx_1.lineTo(c_x+parseInt(rx.mag_nth.point[1].x),c_y+parseInt(rx.mag_nth.point[1].y)); ctx_1.lineTo(c_x+parseInt(rx.mag_nth.point[2].x),c_y+parseInt(rx.mag_nth.point[2].y)); ctx_1.lineTo(c_x+parseInt(rx.mag_nth.point[0].x),c_y+parseInt(rx.mag_nth.point[0].y)); ctx_1.stroke(); ctx_1.font='30px Arial'; ctx_1.textAlign='right'; ctx_1.fillStyle=n_clr; ctx_1.fillText(rx.utc,300,22); ctx_1.beginPath(); ctx_1.fillStyle=rx.hbt_clr; ctx_1.fillRect(hb_x,hb_y,hb_s,hb_s); ctx_1.fill(); ctx_2.font='30px Arial'; ctx_2.textAlign='left'; ctx_2.fillStyle='gray'; ctx_2.fillText('-5.......VMG(kn).......+5',1,30); ctx_3.font='30px Arial'; ctx_3.textAlign='left'; ctx_3.fillStyle='gray'; ctx_3.fillText('-20....LWY(deg)....+20',5,30); ctx_4.font='30px Arial'; ctx_4.textAlign='left'; ctx_4.fillStyle='gray'; ctx_4.fillText('-180..TRN(deg)..+180',5,30); ctx_2.beginPath(); ctx_2.arc(c_x+parseInt(rx.vmg_ball.x),b_y,b_r,0,2*Math.PI,false); ctx_2.fillStyle=rx.vmg_ball.clr; ctx_2.fill(); ctx_3.beginPath(); ctx_3.arc(c_x+parseInt(rx.crh_ball),b_y,b_r,0,2*Math.PI,false); ctx_3.fillStyle=crh_b_clr; ctx_3.fill(); ctx_4.beginPath(); ctx_4.arc(c_x+parseInt(rx.trn_ball),b_y,b_r,0,2*Math.PI,false); ctx_4.fillStyle=trn_b_clr; ctx_4.fill(); } } init(); </script> </body> </html>";
char ww_page::ac_html_02[] = "<!DOCTYPE html> <html> <head><meta name='viewport' content='width=device-width,initial-scale=1.0'> <title>WINSCREEN</title> <style> html{font-family:Helvetica;display:inline-block;margin:0px auto;text-align:center;} body{margin-top:20px;} canvas{ border:2px solid white;} .button_class{ width: 300px; background-color: #DDDDDD; border: 2px solid #000000; border-radius: 10px; font-size: 24px; cursor: pointer; } .hidden_class{ display: none; } </style> </head> <body> <div> <canvas id='pane_1' height='0'></canvas> </div> <div> <button type='button' class = 'button_class hidden_class' id='next_id'> NEXT </button> </div> <script> var socket; var rx; var bkgnd; var pw; var ph; var y1; var y2; var y3; var t_clr; var txt_01; var txt_02; var vmg; const canvas_1=document.getElementById('pane_1'); const ctx_1=canvas_1.getContext('2d'); function init(){ socket=new WebSocket('ws:/'+'/'+window.location.hostname+':81/'); socket.onmessage=function(socket_event){ processCommand(socket_event); }; } document.getElementById('next_id').addEventListener('click', function(){ socket.send('req:next') }); function processCommand(socket_event){ rx=JSON.parse(socket_event.data); if (rx.key==='req'){ if (rx.value==='this'){ socket.send('this:'+window.location.href); } } if (rx.key==='next'){ socket.close; window.location.href=rx.value; } if (rx.key==='constants'){ bkgnd=rx.display.bkgnd; pw=parseInt(rx.display.pw); ph=parseInt(rx.display.ph); y1=parseInt(rx.display.y1); y2=parseInt(rx.display.y2); y3=parseInt(rx.display.y3); t_clr=rx.display.txt_clr; txt_01=rx.txt.t01; txt_02=rx.txt.t02; console.log('text colour:'+t_clr); canvas_1.width=pw; canvas_1.height=ph; document.getElementById('next_id').classList.remove('hidden_class'); } if (rx.key==='variables'){ vmg=rx.vmg; ctx_1.fillStyle=bkgnd; ctx_1.fillRect(0,0,pw,ph); ctx_1.font='80px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=t_clr; ctx_1.fillText(txt_01,pw/2,y1); ctx_1.font='140px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=t_clr; ctx_1.fillText(vmg,pw/2,y2); ctx_1.font='80px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=t_clr; ctx_1.fillText(txt_02,pw/2,y3); } } init(); </script> </body> </html>";
char ww_page::ac_html_03[] = "<!DOCTYPE html> <html> <head><meta name='viewport' content='width=device-width,initial-scale=1.0'> <title>WINSCREEN</title> <style> html{font-family:Helvetica;display:inline-block;margin:0px auto;text-align:center;} body{margin-top:20px;} div{margin-top :2px; margin-bottom :2px;} canvas{ vertical-align: top; border:2px solid white;} .button_class{ height: 62px; background-color: #DDDDDD; border: 2px solid #000000; border-radius: 10px; font-size: 24px; cursor: pointer; } .next_class{ width: 300px; background-color: #DDDDDD; border: 2px solid #000000; border-radius: 10px; font-size: 24px; cursor: pointer; } .hidden_class{ display: none; } .narrow_class{ width: 71px; } .wide_class{ width: 306px; } </style> </head> <body> <div><canvas id='pane_1' height='0'></canvas></div> <span> <button type='button' class = 'button_class hidden_class'; id='button_01'><</button> <canvas id='pane_2' height='0'></canvas> <button type='button' class = 'button_class hidden_class' id='button_02'>></button> </span> <div><canvas id='pane_3' height='0'></canvas></div> <span> <button type='button' class = 'button_class hidden_class' id='button_03'><</button> <canvas id='pane_4' height='0'></canvas> <button type='button' class = 'button_class hidden_class' id='button_04'>></button> </span> <div><canvas id='pane_5' height='0'></canvas></div> <span> <button type='button' class = 'button_class hidden_class' id='button_05'><</button> <canvas id='pane_6' height='0'></canvas> <button type='button' class = 'button_class hidden_class' id='button_06'>></button> </span> <div><button type='button' class = 'next_class hidden_class' id='next_id'>NEXT</button></div> <script> var socket; var rx; var pan_01; var pan_02; var pan_03; var pan_04; var pan_05; var pan_06; var ctx_1; var ctx_2; var ctx_3; var ctx_4; var ctx_5; var ctx_6; var but_01; var but_02; var but_03; var but_04; var but_05; var but_06; var but_07; var txt_pan_01_01; var txt_pan_01_02; var txt_pan_03_01; var txt_pan_03_02; var txt_pan_05_01; var txt_pan_05_02; var aw_clr; var var_clr; var z_clr; var rw1; var rw2; var rw3; var rh; var iw; var arh_x; var crh_x; var off; var van; var fc; function init(){ socket=new WebSocket('ws:/'+'/'+window.location.hostname+':81/'); socket.onmessage=function(socket_event){ processCommand(socket_event); }; } function processCommand(socket_event){ rx=JSON.parse(socket_event.data); if (rx.key==='req'){ if (rx.value==='this'){ socket.send('this:'+window.location.href); } } if (rx.key==='next'){ socket.close; window.location.href=rx.value; } if (rx.key==='constants'){ txt_pan_01_01 = rx.txt.pan_01_01; txt_pan_01_02 = rx.txt.pan_01_02; txt_pan_03_01 = rx.txt.pan_03_01; txt_pan_03_02 = rx.txt.pan_03_02; txt_pan_05_01 = rx.txt.pan_05_01; txt_pan_05_02 = rx.txt.pan_05_02; bkgnd = rx.display.bkgnd; txt_clr = rx.display.txt_clr; aw_clr = rx.display.aw_clr; var_clr = rx.display.var_clr; z_clr = rx.display.z_clr; rw1 = parseInt(rx.display.rw1); rw2 = parseInt(rx.display.rw2); rw3 = parseInt(rx.display.rw3); rh = parseInt(rx.display.rh); iw = parseInt(rx.display.iw); pan_01 = document.getElementById('pane_1'); ctx_1=pan_01.getContext('2d'); pan_01.width = rx.display.rw3; pan_01.height = rx.display.rh; pan_02 = document.getElementById('pane_2'); ctx_2=pan_02.getContext('2d'); pan_02.width = rx.display.rw2; pan_02.height = rx.display.rh; pan_03 = document.getElementById('pane_3'); ctx_3=pan_03.getContext('2d'); pan_03.width = rw3; pan_03.height = rh; pan_04 = document.getElementById('pane_4'); ctx_4=pan_04.getContext('2d'); pan_04.width = rx.display.rw2; pan_04.height = rx.display.rh; pan_05 = document.getElementById('pane_5'); ctx_5=pan_05.getContext('2d'); pan_05.width = rx.display.rw3; pan_05.height = rx.display.rh; pan_06 = document.getElementById('pane_6'); ctx_6=pan_06.getContext('2d'); pan_06.width = rx.display.rw2; pan_06.height = rx.display.rh; but_01 = document.getElementById('button_01'); but_01.classList.add('narrow_class'); but_01.classList.remove('hidden_class'); but_01.addEventListener('click', function(){ socket.send( 'offset:dec' )}); but_02 = document.getElementById('button_02'); but_02.classList.add('narrow_class'); but_02.classList.remove('hidden_class'); but_02.addEventListener('click', function(){ socket.send( 'offset:inc' )}); but_03 = document.getElementById('button_03'); but_03.classList.add('narrow_class'); but_03.classList.remove('hidden_class'); but_03.addEventListener('click', function(){ socket.send( 'variation:dec' )}); but_04 = document.getElementById('button_04'); but_04.classList.add('narrow_class'); but_04.classList.remove('hidden_class'); but_04.addEventListener('click', function(){ socket.send( 'variation:inc' )}); but_05 = document.getElementById('button_05'); but_05.classList.add('narrow_class'); but_05.classList.remove('hidden_class'); but_05.addEventListener('click', function(){ socket.send( 'fc:dec' )}); but_06 = document.getElementById('button_06'); but_06.classList.add('narrow_class'); but_06.classList.remove('hidden_class'); but_06.addEventListener('click', function(){ socket.send( 'fc:inc' )}); but_07 = document.getElementById('next_id'); but_07.classList.remove('hidden_class'); but_07.addEventListener('click', function(){ socket.send('corrections:commit'); socket.send('req:next') }); ctx_1.fillStyle = bkgnd; ctx_1.fillRect(0, 0, rw3, rh); ctx_1.font='24px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=txt_clr; ctx_3.fillStyle = bkgnd; ctx_3.fillRect(0, 0, rw3, rh); ctx_3.font='24px Arial'; ctx_3.textAlign='center'; ctx_3.fillStyle=txt_clr; ctx_5.fillStyle = bkgnd; ctx_5.fillRect(0, 0, rw3, rh); ctx_5.font='24px Arial'; ctx_5.textAlign='center'; ctx_5.fillStyle=txt_clr; ctx_6.fillStyle = bkgnd; ctx_6.fillRect(0, 0, rw3, rh); ctx_2.fillStyle = bkgnd; ctx_2.fillRect(0, 0, rw2, rh); ctx_4.fillStyle = bkgnd; ctx_4.fillRect(0, 0, rw2, rh); } if (rx.key==='variables'){ arh_x = parseInt(rx.corrections.arh); crh_x = parseInt(rx.corrections.crh); off = rx.offset; van = rx.variation; fc = rx.fc; ctx_1.fillStyle = bkgnd; ctx_1.fillRect(0, 0, rw3, rh); ctx_1.font='24px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=txt_clr; ctx_1.fillText( txt_pan_01_01 + off + txt_pan_01_02, rw3/2, 40); ctx_3.fillStyle = bkgnd; ctx_3.fillRect(0, 0, rw3, rh); ctx_3.font='24px Arial'; ctx_3.textAlign='center'; ctx_3.fillStyle=txt_clr; ctx_3.fillText( txt_pan_03_01 + van + txt_pan_03_02, rw3/2, 40); ctx_5.fillStyle = bkgnd; ctx_5.fillRect(0, 0, rw3, rh); ctx_5.font='24px Arial'; ctx_5.textAlign='center'; ctx_5.fillStyle=txt_clr; ctx_5.fillText( txt_pan_05_01 + fc + txt_pan_05_02, rw3/2, 40); ctx_2.fillStyle = bkgnd; ctx_2.fillRect(0, 0, rw2, rh); ctx_2.font='50px Arial'; ctx_2.textAlign='center'; ctx_2.fillStyle='gray'; ctx_2.fillText('AWA',rw2/2, 50); ctx_2.beginPath(); ctx_2.fillStyle=z_clr; ctx_2.fillRect((rw2-iw)/2, 0, iw, rh); ctx_2.fill(); ctx_2.beginPath(); ctx_2.fillStyle=aw_clr; ctx_2.fillRect(rw2/2+arh_x, 0, iw, rh); ctx_2.fill(); ctx_4.fillStyle = bkgnd; ctx_4.fillRect(0, 0, rw2, rh); ctx_4.font='50px Arial'; ctx_4.textAlign='center'; ctx_4.fillStyle='gray'; ctx_4.fillText('LWY',rw2/2, 50); ctx_4.beginPath(); ctx_4.fillStyle=z_clr; ctx_4.fillRect((rw2-iw)/2, 0, iw, rh); ctx_4.fill(); ctx_4.beginPath(); ctx_4.fillStyle=var_clr; ctx_4.fillRect(rw2/2+crh_x, 0, iw, rh); ctx_4.fill(); } } init(); </script> </body> </html>";
char ww_page::ac_html_04[] = "<!DOCTYPE html> <html> <head><meta name='viewport' content='width=device-width,initial-scale=1.0'> <title>WINSCREEN</title> <style> html{font-family:Helvetica;display:inline-block;margin:0px auto;text-align:center;} body{margin-top:20px;} canvas{ border:2px solid white;} .button_class{ width: 300px; background-color: #DDDDDD; border: 2px solid #000000; border-radius: 10px; font-size: 24px; cursor: pointer; } .hidden_class{ display: none; } </style> </head> <body> <div> <canvas id='pane_1' height='0'></canvas> </div> <div> <button type='button' class = 'button_class hidden_class' id='next_id'> NEXT </button> </div> <script> var socket; var rx; var bkgnd; var pw; var ph; var y1; var y2; var y3; var y4; var y5; var y6; var t_clr; var txt_01; var txt_02; var txt_03; var txt_04; var dev; var crn; const canvas_1=document.getElementById('pane_1'); const ctx_1=canvas_1.getContext('2d'); function init(){ socket=new WebSocket('ws:/'+'/'+window.location.hostname+':81/'); socket.onmessage=function(socket_event){ processCommand(socket_event); }; } document.getElementById('next_id').addEventListener('click', function(){ socket.send('req:next') }); function processCommand(socket_event){ rx=JSON.parse(socket_event.data); if (rx.key==='req'){ if (rx.value==='this'){ socket.send('this:'+window.location.href); } } if (rx.key==='next'){ socket.close; window.location.href=rx.value; } if (rx.key==='constants'){ bkgnd=rx.display.bkgnd; pw=parseInt(rx.display.pw); ph=parseInt(rx.display.ph); y1=parseInt(rx.display.y1); y2=parseInt(rx.display.y2); y3=parseInt(rx.display.y3); y4=parseInt(rx.display.y4); y5=parseInt(rx.display.y5); y6=parseInt(rx.display.y6); t_clr=rx.display.txt_clr; txt_01=rx.txt.t01; txt_02=rx.txt.t02; txt_03=rx.txt.t03; txt_04=rx.txt.t04; canvas_1.width=pw; canvas_1.height=ph; document.getElementById('next_id').classList.remove('hidden_class'); } if (rx.key==='variables'){ dev=rx.dev; crn=rx.crn; ctx_1.fillStyle=bkgnd; ctx_1.fillRect(0,0,pw,ph); ctx_1.font='50px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=t_clr; ctx_1.fillText(txt_01,pw/2,y1); ctx_1.font='100px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=t_clr; ctx_1.fillText(dev,pw/2,y2); ctx_1.font='50px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=t_clr; ctx_1.fillText(txt_02,pw/2,y3); ctx_1.font='100px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=t_clr; ctx_1.fillText(crn,pw/2,y4); ctx_1.font='50px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=t_clr; ctx_1.fillText(txt_03,pw/2,y5); ctx_1.font='18px Arial'; ctx_1.textAlign='center'; ctx_1.fillStyle=t_clr; ctx_1.fillText(txt_04,pw/2,y6); } } init(); </script> </body> </html>";

// Instance constructors.

ww_page::ww_page( char* pac_html ) {

  ww_page::pac_html = pac_html;

}


ww_page::ww_page( char* pac_html, perspective_t e_perspective ) {

  ww_page::pac_html = pac_html;
  ww_page::e_perspective = e_perspective;

}

void ww_page::v_begin() {

// Create a ww_page instance for each page.

  ww_page::ap_page_list[ 0 ] = new ww_page( ww_page::ac_html_00 );
  ww_page::ap_page_list[ 1 ] = new ww_page( ww_page::ac_html_01, NORTH_UP );
  ww_page::ap_page_list[ 2 ] = new ww_page( ww_page::ac_html_01, HEAD_UP );
  ww_page::ap_page_list[ 3 ] = new ww_page( ww_page::ac_html_01, WIND_UP );
  ww_page::ap_page_list[ 4 ] = new ww_page( ww_page::ac_html_02 );
  ww_page::ap_page_list[ 5 ] = new ww_page( ww_page::ac_html_03 );
  ww_page::ap_page_list[ 6 ] = new ww_page( ww_page::ac_html_04 );

}
